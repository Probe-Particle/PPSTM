CC=g++
OMPFLAGS=-fopenmp
CPPFLAGS=-std=c++11 -O3 -ffast-math -ftree-vectorize 
CPPLFLAGS= $(CPPFLAGS) -shared -Wl,-soname

all: STM IO

STM:
	$(CC) $(OMPFLAGS) $(CPPFLAGS) -c -fPIC ProbeSTM_spd.cpp
	$(CC) $(OMPFLAGS) $(CPPLFLAGS),ProbeSTM_spd_lib.so -o ProbeSTM_spd_lib.so ProbeSTM_spd.o
IO:
	$(CC) $(CPPFLAGS) -c -fPIC IO.cpp
	$(CC) $(CPPLFLAGS),IO_lib.so -o IO_lib.so IO.o
clean:
	rm *.o *.so *.pyc
